# Story 1.3: Dashboard SLA Operacional

## Status
**Done**

## Story
**As a** gestor do sistema,  
**I want** um dashboard com indicadores SLA e lista de ofícios,  
**so that** eu possa monitorar o status de processamento e prazos.

## Acceptance Criteria
1. Dashboard deve mostrar 3 indicadores principais
2. Indicador 1: Total de ofícios
3. Indicador 2: Ofícios em risco (prazo < 3 dias)
4. Indicador 3: Ofícios vencidos
5. Tabela deve listar todos os ofícios com filtros
6. Filtros: busca por processo/autoridade, "Atribuídos a Mim"
7. Cada linha deve ter ação "Revisar"
8. Seção especial para "Ofícios Aguardando Revisão"
9. Design elegante com cores de urgência

## Tasks / Subtasks
- [x] Task 1: Criar página dashboard (AC: 1)
  - [x] Route `/dashboard`
  - [x] Layout responsivo
  - [x] Grid de cards
- [x] Task 2: Implementar indicadores SLA (AC: 2,3,4)
  - [x] Card Total
  - [x] Card Risco (laranja)
  - [x] Card Vencidos (vermelho)
  - [x] Cálculo automático de prazos
- [x] Task 3: Tabela de ofícios (AC: 5,6,7)
  - [x] Componente OficiosTable
  - [x] Busca por texto
  - [x] Filtro "Meus Ofícios"
  - [x] Botão "Revisar" por linha
- [x] Task 4: Seção HITL (AC: 8)
  - [x] Hook useOficiosAguardandoRevisao
  - [x] Cards de revisão
  - [x] Link para Portal HITL
- [x] Task 5: Design System (AC: 9)
  - [x] Cores ness. (#00ade8)
  - [x] Ícones Lucide monocromáticos
  - [x] Fonte Montserrat

## Dev Notes

### Arquitetura
- **Framework:** Next.js 15 App Router
- **DB:** Supabase PostgreSQL
- **UI:** shadcn/ui + Tailwind CSS v4
- **Ícones:** Lucide React

### Cálculo SLA
- Prazo baseado em `prazo_resposta` do ofício
- Risco: < 3 dias úteis
- Vencido: prazo < hoje
- Cores: verde (OK), laranja (risco), vermelho (vencido)

### Source Tree
```
src/
├── app/dashboard/page.tsx
├── components/
│   ├── ui/ (shadcn components)
│   └── Logo.tsx
└── hooks/
    └── useOficiosAguardandoRevisao.tsx
```

### Testing
- Testar indicadores com diferentes dados
- Validar cálculos de prazo
- Testar filtros e busca
- Verificar responsividade
- Testar links para HITL

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-18 | 1.0 | Story criada retroativamente | Quinn (QA) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5

### Completion Notes List
- Dashboard operacional completo
- 3 indicadores SLA funcionando
- Tabela com filtros OK
- Seção HITL integrada
- Design system ness. implementado

### File List
- `src/app/dashboard/page.tsx`
- `src/hooks/useOficiosAguardandoRevisao.tsx`
- `src/components/ui/` (vários componentes)

## QA Results
*Aguardando revisão QA completa*

